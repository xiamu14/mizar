---
title: 'Great Select'
description: 'å¤šå€¼æšä¸¾ç±»'
date: 2022-05-04
cover: 'L7ut-1669768053930.avif'
---

æœ‰ä¸€ç±»æšä¸¾åœ¨å¤šä¸ªåœºæ™¯ä¸‹å±•ç¤ºä¸åŒçš„å€¼ï¼Œæ¯”å¦‚ï¼šåç«¯å®šä¹‰ä¸€ç±»æœåŠ¡ï¼ŒåŒ…å«å¤šç§ç±»å‹ï¼Œä½†åœ¨å‰ç«¯å¯èƒ½è¿˜éœ€è¦æ·»åŠ ç±»å‹çš„åç§°ã€æè¿°ã€çŠ¶æ€ç­‰ã€‚

æšä¸¾çš„æ¯ä¸ªå¯¹åº”ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡æ•°æ®ï¼Œè€Œé’ˆå¯¹è¿™ä¸ªæšä¸¾çš„æ“ä½œéœ€è¦ä¸“é—¨çš„ç±»å¤„ç†ã€‚è¿™ä¸ªç±»å°±æ˜¯ç”¨äºå¤„ç†è¿™ç§åœºæ™¯ä¸‹å¤šå€¼æšä¸¾çš„ã€‚

```ts
/**
 * @desc å¤šå€¼é€‰æ‹©ç±»
 */
import _isEqual from 'lodash.isequal';

export default class Select<T extends Record<string, any>> {
  data: T[];

  /**
   * å®šä¹‰å…·æœ‰å¤šå€¼çš„æšä¸¾å±æ€§ç±»
   * @param data
   */
  constructor(data: T[]) {
    this.data = data;
  }

  /**
   * è·å–æ•°ç»„ä¸­æ­¤é”®åçš„å€¼ç»„æˆçš„æ•°ç»„
   * @param key
   */
  values(key: keyof T) {
    const result = this.data.map((item) => item[key]);
    return result;
  }

  /**
   * æ ¹æ®ç‰¹å®šçš„ key value è·å–åˆ°æ•°ç»„å­é¡¹
   * @param key
   * @param val
   */

  item(key: keyof T, value: T[typeof key]) {
    const result = this.data.find((item: T) => _isEqual(item[key], value));
    return result;
  }
}
```

**ğŸ  ä½¿ç”¨æ–¹å¼**

```ts
const fruits = [
  {
    id: 0, // æ•°ç»„ index æ˜¾å¼è¡¨è¾¾ä¸º id
    desc: 'è‹¹æœ', // å‰ç«¯å±•ç¤ºçš„æè¿°å€¼
    endValue: 1, // åç«¯å€¼
  },
  {
    id: 1,
    desc: 'æ©˜å­',
    endValue: 2,
  },
  {
    id: 2,
    desc: 'æ¡ƒèŠ±',
    endValue: 3,
  },
];
const fruitSelect = new Select(fruits);

// è·å–æ‰€æœ‰çš„ desc ï¼Œè¿”å›æ•°ç»„
fruitSelect.values('desc'); // ['è‹¹æœ', 'æ©˜å­', 'æ¡ƒèŠ±']

// æ ¹æ®ç‰¹å®šçš„ kev-val è·å–å­é¡¹
fruitSelect.item('id', 1);
// {id:1, desc: 'æ©˜å­', endValue: 2,}
```
